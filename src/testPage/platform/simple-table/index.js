/*! @ncctag content */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@platform/api/index"),require("@platform/base/index"),require("@platform/table-core/index"),require("@platform/template/index")):"function"==typeof define&&define.amd?define(["react","@platform/api/index","@platform/base/index","@platform/table-core/index","@platform/template/index"],t):"object"==typeof exports?exports["@platform/simple-table/index"]=t(require("react"),require("@platform/api/index"),require("@platform/base/index"),require("@platform/table-core/index"),require("@platform/template/index")):e["@platform/simple-table/index"]=t(e.React,e["@platform/api/index"],e["@platform/base/index"],e["@platform/table-core/index"],e["@platform/template/index"])}(window,(function(e,t,o,r,n){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="../../../../platform/",o(o.s=1900)}({0:function(t,o){t.exports=e},1:function(e,o){e.exports=t},11:function(e,t){e.exports=n},1868:function(e,t,o){},1900:function(e,t,o){"use strict";o.r(t);var r=o(0),n=o.n(r),a=o(11),l=o(1),i=o(8);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=S(e);if(t){var n=S(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return b(this,o)}}function b(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,o){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(o):n.value}})(e,t,o||e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=i.utils.isArray,I=i.utils.isString,k=i.utils.isObject,O=i.utils.isUndefined,x=i.utils.isNullOrVoid;i.utils.getPageSizeStorage;function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rowid";return new a.ArrayData(e,t)}function j(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"attrcode",o=0,r=Object.keys(e);o<r.length;o++){var n=r[o];k(e[n])&&C(e[n].items)&&"table"===e[n].moduletype&&(e[n].items=new a.TreeData(e[n].items,t))}return e}var D,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,o,r,n=m(a);function a(){var e,t,o;p(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(o=n.call.apply(n,[this].concat(l))).store={meta:{},rows:[],props:{status:"browse",focusIndex:"-1",rowKey:"rowId",currentIndex:-1,currentInfo:null},pageInfo:{pageIndex:1,total:0,totalPage:1},allpks:[],alltss:[],checkInfo:{checkedAll:!1,indeterminate:!1,selectIndex:new Set,disabledAll:!1,checkedAllpage:!1,crossPageSelectIndex:new Set},modelDatas:{modelColumn:[],record:{},index:null,rowId:null,operType:"add",showModal:!1},sortParam:void 0,config:{}},o.cache={base:null,beforeEdit:null,all:null,afterDel:null,oldRows:[],colInitialValue:{},langJson:{},oldBatchData:null},o.getHooks=function(){return{getStore:o.getStore,setStore:o.setStore,setData:o.setData,getData:o.getData,getFilterData:o.getFilterData,setRows:o.setRows,getRows:o.getRows,setMeta:o.setMeta,getMeta:o.getMeta,getArrayMeta:o.getArrayMeta,setCellProps:o.setCellProps,setColumn:o.setColumn,setSelect:o.setSelect,openModal:o.openModal,closeModal:o.closeModal,setTableProps:o.setTableProps,getTableProps:o.getTableProps,showColumn:o.showColumn,deleteTableRows:o.deleteTableRows,addTableRows:o.addTableRows,setCellValue:o.setCellValue,setCache:o.setCache,getCache:o.getCache,clearSortStatus:o.clearSortStatus,resetFilter:o.resetFilter,getClickedRow:o.getClickedRow,setClickedRow:o.setClickedRow,setModalValue:o.setModalValue,getConfig:o.getConfig,setConfig:o.setConfig,setCrossPage:o.setCrossPage}},o.resetFilter=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(e=e||o.getStore("name")))return console.warn("invalid resetFilter tableId note find");var r=o.getArrayMeta(e,!0),n=[];r.forEach((function(e){n.push(e.attrcode)}));var a=o.getData()||[];a.forEach((function(e){e.filter=!1,delete e.filterIndex}));var l=o.getStore("checkInfo"),i=a;i&&i.length&&(l.indeterminate=i.some((function(e){var t=e.values||e;return(!t.saga_status||"1"!==t.saga_status.value)&&e.selected})),l.checkedAll=i.every((function(e){var t=e.values||e;return!(!t.saga_status||"1"!==t.saga_status.value)||e.selected}))),o.setStore(["checkInfo"],l,!1),o.setData(a,!1),o.setColumn(e,n,{filterStatus:""},t)},o.setCellProps=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"merge";if(!O(e)&&-1!==e){var l=o.getData(),i=l.update(e,(function(e){var o=(e.values||{})[t]||{};return"merge"==a&&(r=d(d({},o),r)),e.values=e.values||{},e.values[t]=r,e}));return n&&o.forceUpdate(),i}console.log("invalid params")},o.getTableProps=function(e){return o.getStore(["props",e])},o.setTableProps=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;o.setStore(["props",e],t,r,n)},o.setStore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3?arguments[3]:void 0;return t.length?o.store=w((e=y(o),S(a.prototype)),"set",e).call(e,t,r):o.store=r,n&&o.forceUpdate(l),o.store},o.getStore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?w((t=y(o),S(a.prototype)),"get",t).call(t,e):o.store},o.setData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=o.getTableProps("rowKey"),a=C(e)?new P(e,n):o.getData();o.setStore(["rows"],a,t,r)},o.getData=function(){return o.getStore(["rows"])||[]},o.getFilterData=function(){var e=o.getStore(["rows"]);return(e=e.filter((function(e){return!e.filter})))||[]},o.getRows=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rowIndexs,r=e.rowKeyValues,n=o.getStore(["rows"]),a=[];return!r&&t&&(r=o._getRowKeyValues({rowIndexs:t})),(r||t||[]).forEach((function(e){var t=n.query(e);!t&&console.warn("not find row data"),a.push(t)})),a},o.setRows=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=o.getTableProps("rowKey"),n=o.getData();e.forEach((function(e){e[r]||console.error("数据中没有rowid"),n.update(e[r],(function(){return e}))})),t&&o.forceUpdate()},o.getClickedRow=function(){return o.getTableProps("currentInfo")},o.setClickedRow=function(e){var t={},r=o.getStore(["rows"]);t.record=r[e],t.index=e,o.setTableProps("currentInfo",t)},o.showColumn=function(e,t,r){var n=C(t)?t:[t],a=o.getMeta();a[e]&&(a[e].item=a[e].items.map((function(e){return n.includes(e.attrcode)&&(e.visible=r),e}))),o.setMeta(a)},o.setColumn=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=o.getStore(["meta",e,"items"]);if(a){var l=a.get();(t=C(t)?t:[t]).forEach((function(e){var t=l.query(e);if(t)for(var o in r)t[o]=r[o]})),n&&o.forceUpdate()}},o.openModal=function(e,t,r){var n=o.getStore(["modelDatas"]),a={showModal:!0};a.operType=e,"edit"==e?(a.record=t||{},a.index=r||null,a.rowId=t?t.key:o._getRandom()):"add"==e&&(a.record={},a.rowIndex=null,a.rowId=o._getRandom()),n=d(d({},n),a),o.setStore(["modelDatas"],n)},o.closeModal=function(){var e=o.getStore(["modelDatas"]);e.showModal=!1,o.setStore(["modelDatas"],e)},o.setModalValue=function(e,t,r){var n=o.getStore(["modelDatas"]),a=n.record;a[e]="refer"==r?{display:t.refname,value:t.refpk}:{value:t,display:null},o.setStore("modelDatas",n)},o.getMeta=function(e){var t=o.getStore("meta"),r={};if(t){if(e){var n=o._hasMeta({id:e});r=n?s(n.items.get()):[]}else for(var a=0,l=Object.keys(t);a<l.length;a++){var i=l[a];r[i]=t[i],k(t[i])&&t[i].items&&"table"===t[i].moduletype&&(r[i].items=t[i].items.get?t[i].items.get():t[i].items)}return r}},o.getArrayMeta=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];O(e)&&!(e=o.getStore("name"))&&console.warn("not find current meta name");var r=o._hasMeta({id:e})||[];return(r=r&&r.items&&r.items.getArrayData?r.items.getArrayData():r.items||[]).filter((function(e){var o=e.children;return!o||!(t&&C(o)&&o.length>=0)}))},o.setMeta=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.setStore(["meta"],new j(e),t),console.log(o.getStore("meta"))},o.deleteTableRows=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"index",r=[],n=o.getTableProps("rowKey"),a=o.getFilterData(),l=o.getTableProps("currentInfo")||{},i=o.getStore(["pageInfo"])||{},c=!1,u=[],f=[],d=[],g=o.getConfig(),p=g.crossPageSelect,h=g.pkname,v=0;if(u=C(e)?s(e):[e],(f="index"===t?o._getRowIdbyIndex(u):u).forEach((function(e){c||(c=e===l[n]);for(var t=a.length,o=0;o<t;o++)if(a[o][n]===e){p&&h&&d.push(a[o].values[h].value),a.splice(o,1),v++;break}})),p&&h){var m=o.getStore(["checkInfo","crossPageSelectIndex"]);d.forEach((function(e){m.has(e)&&m.delete(e)})),o.setStore(["checkInfo","crossPageSelectIndex"],m,!1)}return i.total&&(i.total-=v),o.setStore(["pageInfo",i,!1]),o.setSelect(f,"delete"),c&&(o.setTableProps("currentInfo",null,!1),o.setTableProps("focusIndex",-1,!1)),o.setData(a),r},o.addTableRows=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=o.getStore(["rows"]),a=o.getStore(["checkInfo","checkedAll"]),l=JSON.parse(JSON.stringify(e));l=l.map((function(e){return e.rowId=e.rowId||o._getRandom(),e})),t=t||0,n.splice.apply(n,[t,0].concat(s(l))),a&&(o.setStore(["checkInfo","checkedAll"],!1,!1),o.setStore(["checkInfo","indeterminate"],!0,!1)),r&&o.forceUpdate()},o.setSelect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=o.getStore(["checkInfo","selectIndex"]),a=!1,l=!1;C(e)||(e=[e]),"set"===t&&(n.clear(),e.forEach((function(e){n.add(e)}))),"add"===t&&e.forEach((function(e){n.add(e)})),"delete"===t&&e.forEach((function(e){n.delete(e)})),"clear"===t&&(n.clear(),o.setTableProps("focusIndex",-1,!1));var i=o.getStore("checkInfo"),c=o.getFilterData(),s=c.length,u=0;s&&c.map((function(e){var o=e.values||e,r=!o.saga_status||"1"!==o.saga_status.value,a=e.disabled?e.disabled:o.disabled&&o.disabled.value;if(!r&&u++,a)e.selected?n.add(e.rowId):n.delete(e.rowId);else if("all"!==t&&"allpage"!==t||!r)if("reverse"===t)n.has(e.rowId)?(n.delete(e.rowId),e.selected=!1):!r&&a||(n.add(e.rowId),e.selected=!0);else{var l=n.has(e.rowId);e.selected=!(!l||!r)}else n.add(e.rowId),e.selected=!0}));var f=n.size;0===f?(a=!1,l=!1):f>0&&f+u<s?(a=!0,l=!1):f+u===s&&(a=!1,l=!0),i.indeterminate=a,i.checkedAll=l,i.selectIndex=n,i.checkedAllpage="allpage"===t,o.setStore(["checkInfo"],i,r)},o.setCellValue=function(e){var t,r=e.value,n=e.rowId,a=e.index,l=e.attrcode,i=e.shouldForceUpdate,c=void 0===i||i;O(a)||(I(a)&&(a=Number(a)),t=o._getRowIdbyIndex([a])[0]),n&&(t=n),o.getStore(["rows"]).update(t,(function(e){return e.values[l]=r,e})),c&&o.forceUpdate()},o.getConfig=function(){return o.getStore(["config"])},o.setConfig=function(e){o.setStore(["config"],e,!1)},o.setCache=function(e,t){if(e){C(e)||(e=[e]);var r=o.cache,n=e.length;e.forEach((function(e,o){r[e]||(r[e]={}),o===n-1?r[e]=t:r=r[e]}))}else console.warn("invalid params <path> to setting")},o.getCache=function(e){if(!O(e)){C(e)||(e=[e]);var t=o.cache;return e.some((function(o){return O(o)||x(t)?(O(o)&&console.warn("paths has empty item[%s]",e),!0):t[o]?(t=t[o],!1):(t=null,!0)})),t}console.warn("invalid params <paths> to setting")},o.setCrossPage=function(e,t,r){var n=o.getStore("checkInfo").crossPageSelectIndex;(C(e)?e:[e]).forEach((function(e){var o;o=k(e.values)?e.values[t].value:e[t].value;var a=e.values||e,l=!a.saga_status||"1"!==a.saga_status.value;r&&l?n.add(o):n.delete(o)}))},o._getRowIdbyIndex=function(e){var t=o.getData(),r=[];return t.forEach((function(t,o){var n=String(o);(e.includes(o)||e.includes(n))&&r.push(t.rowId)})),r},o}return t=a,(o=[{key:"getRowProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rowIndex,o=e.rowKeyValue,r=e.name;!o&&t&&(o=this._getRowKeyValues({rowIndex:t}));var n=this.getStore(["rows"]),a=n.query(o||t);return a[r]}},{key:"setRowProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rowIndex,o=e.rowKeyValue,r=e.value,n=void 0===r?{}:r,a=e.shouldForceUpdate,l=void 0===a||a,i=o||t;!o&&t&&(o=this._getRowKeyValues({rowIndex:t}));var c=this.getStore(["rows"]),s=c.query(i);for(var u in n)s[u]=n[u];this.setStore(["rows",i],s,l)}},{key:"clearSortStatus",value:function(e){var t=this,o=e.columns;o.forEach((function(e){var r=e.children;O(r)?o.forEach((function(e){e.order="flatscend",e.orderNum=""})):t.clearSortStatus({columns:r})}))}},{key:"_hasMeta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,o=this.getStore("meta")||{};return t&&k(o[t])?o[t]:null}},{key:"_getRandom",value:function(){return String((new Date).getTime()).slice(-5)+Object(l.getSafeRandom)().toString(12)}}])&&h(t.prototype,o),r&&h(t,r),a}(a.BaseStore),T=Object(a.hookFactory)(R),A=o(3);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function E(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=U(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==o.return||o.return()}finally{if(i)throw a}}}}function F(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function V(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(Object(o),!0).forEach((function(t){B(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function K(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function N(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return q(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function z(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=W(e);if(t){var n=W(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return H(this,o)}}function H(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=i.utils.isArray,G=i.utils.isObject,Q=i.utils.excelPackageData,X=i.utils.getMetaIsTotal,Y=i.utils.isUndefined,Z=i.utils.setPageSizeStorage,ee=i.utils.getPageSizeStorage,te=i.lib.formatColumn,oe=i.lib.pagination,re=i.lib.selectRow,ne=i.lib.indexCol,ae=i.lib.checkCol,le=i.lib.errorCol,ie=i.lib.filter,ce=i.lib.selectable,se=i.lib.simpleTableModal,ue=i.lib.total,fe=i.lib.columnSort,de=i.lib.contextMenu;o(1868);var ge=de(se(oe(ce(ie(re(ne(ae(le(ue(te(fe(A.Table))))))))))));function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rowid";return new a.ArrayData(e,t)}var he=Object(l.withViewModel)(D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(c,e);var t,o,r,a=L(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).pageInfoChange=function(e){var o=t.props,r=o.store,n=o.onPageInfoChange,a=r.getStore,l=r.setStore,i=a(["allpks"]);l(["pageInfo"],e),Z(a(["meta"]),t.props.name,e.pageSize),i.length<=0||n&&n(t.splitPks(i,e.pageIndex,e.pageSize),e.total)},t.splitPks=function(e,t,o){if(e.length<=o)return e;for(var r=[],n=Number(t),a=Number(o),l=(n-1)*a,i=l;i<l+a&&e[i];i++)r.push(e[i]);return r},t.onAllCheckChange=function(e){var o=t.props,r=o.store,n=o.config,a=void 0===n?{}:n,i=o.name,c=r.getStore,s=r.setStore,u=r.getData,f=r.setSelect,d=r.setCrossPage,g=c(["checkInfo"]).selectIndex,p=u();a.crossPageSelect&&a.pkname&&d(p,a.pkname,e);var h=g.size;e?(f(void 0,"all",!1),s(["checkInfo","checkedAll"],!0,!1)):(f(void 0,"clear",!1),s(["checkInfo","checkedAll"],!1,!1));var v=p.length,m=c(["checkInfo","selectIndex"]).size;t.forceUpdate((function(){t.props.onSelectedAll&&Object(l.isFunction)(t.props.onSelectedAll)&&t.props.onSelectedAll(i,e,v),t.props.selectedChange&&Object(l.isFunction)(t.props.selectedChange)&&t.props.selectedChange(i,m,h)}))},t.onCheckChange=function(e,o){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.props,a=n.config,i=void 0===a?{}:a,c=n.name,s=n.store,u=s.getStore,f=s.setSelect,d=s.setCrossPage,g=s.setTableProps,p=[e.rowId.value],h=u(["checkInfo"]),v=h.selectIndex,m=h.crossPageSelectIndex,b=v.size,y=e.selected.value;i.crossPageSelect&&i.pkname&&(r&&m.clear(),d(e,i.pkname,!y)),g("currentIndex",o,!1),r?y&&1===b?(f(p,"delete",!1),g("currentIndex",-1,!1)):f(p,"set",!1):y?(f(p,"delete",!1),g("currentIndex",-1,!1)):f(p,"add",!1);var w=u(["checkInfo","selectIndex"]).size;t.forceUpdate((function(){})),t.props.onSelected&&Object(l.isFunction)(t.props.onSelected)&&t.props.onSelected(c,e,o,!y),t.props.selectedChange&&Object(l.isFunction)(t.props.selectedChange)&&t.props.selectedChange(c,w,b)},t.changeCrossSelect=function(e){var o=t.props,r=o.store,n=o.config,a=void 0===n?{}:n,i=o.name,c=a.pkname,s=r.getStore,u=r.setStore,f=r.setSelect,d=r.setCrossPage,g=r.getData,p=s(),h=p.checkInfo,v=p.allpks,m=h.crossPageSelectIndex,b=m.size;if(c){var y=g();switch(e){case"current":f(void 0,"all"),m.clear(),d(y,c,!0);break;case"all":f(void 0,"allpage"),m=new Set(v);break;case"reverse":var w=[];y.forEach((function(e){e.selected||w.push(e.rowId)})),f(w,"set"),v.forEach((function(e){m.has(e)?m.delete(e):m.add(e)}))}u(["checkInfo","crossPageSelectIndex"],m,!1);var S=m.size;t.props.selectedChange&&Object(l.isFunction)(t.props.selectedChange)&&t.props.selectedChange(i,S,b)}else Object(l.warningOnce)(!1,"请配置pkname")},t.sortChange=function(e,o){var r={},n=[],a=t.props,l=a.store,c=a.name,s=l.setStore,u=l.getData,f=l.getMeta,d=u();s(["sortParam"],{mode:"single",sortParam:e},!1),e.forEach((function(e){r[e.field]=e})),Object(i.handleSortcolumns)({columns:f(c)||[],sortObj:r}),o.forEach((function(e){d.forEach((function(t){e.rowId.value===t.rowId&&n.push(t)}))})),l.setData(n,!0)},t.checkNum=function(){var e=t.props,o=e.config,r=void 0===o?{}:o,n=e.store;return r.crossPageSelect&&r.pkname?n.getStore(["checkInfo","crossPageSelectIndex"]).size:n.getStore(["checkInfo","selectIndex"]).size},t.updateColumnAfterSetting=function(e,o){var r=t.props.store,n=r.getStore,a=r.setMeta,l=n(["meta"]);if(e.length&&o){var i=N(l[o].items),c=[],s=[];e.map((function(e){l[o].items.map((function(t,o){e.attrcode===t.attrcode&&(t.width=e.width,t.islock=e.islock,t.visible=e.visible,c.push(o),s.push(t))}))})),c.sort((function(e,t){return e-t})),c.forEach((function(e,t){i[e]=s[t]})),l[o].items=i,a(l),t.setState({key:t.state.key+1})}},t.getColSettiongParam=function(e,o){if(e&&e[o]){var r=e[o],n=t.props.store.getConfig();return{appcode:r.appcode||l.pageTo.getAppCode(),pagecode:r.pagecode||l.pageTo.getPageCode(),code:r.templateCode||e.code,pageid:r.pageid||e.pageid,areaCode:o,areaId:r.oid,noColSetClass:n.noColSetClass,colSetCallback:n.colSetCallback}}return{}},t.contextMenuClick=function(e,o,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=t.props,s=c.store,u=c.name,f=s.getCache,d=s.getRows,g=(s.getMeta,s.getArrayMeta),p=(s.getData,s.getFilterData),h=["copy","copy-row","copy-column"];if(h.includes(e)){var v=f("activeSpecialCells");console.log("表头选中信息：",v);var m=g(u),b=s.getMeta(u),y=f("activedCells");if(i&&!y&&!v)return;var w=[];"copy"===e||"copy-row"===e?w=d({rowKeyValues:Object.keys(y)}):"copy-column"===e&&(w=p()),Object(l.isFunction)(o)&&o(v,b,y,w,m)}},t.ViewModel=t.props.ViewModel,t.state={isEllipsis:!0,key:1},t}return t=c,(o=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,o=t.config,r=void 0===o?{}:o,n=t.store,a=t.afterLangload;if(r.dataSource){var i=this.ViewModel.getData(r.dataSource);i&&i.simpleTable&&(["rows","pageInfo","allpks","alltss","props","modelDatas","sortParam","config","checkInfo"].forEach((function(e){if("rows"===e){var t=$(i.simpleTable.rows)?new pe(i.simpleTable.rows,"rowId"):n.getData();n.setData(t,!1)}else if("pageInfo"===e){var o=i.simpleTable[e]?i.simpleTable[e]:n.getStore([e]),r=(i.simpleTable.allpks||[]).length;r&&(o.total=r),n.setStore([e],o,!1)}else{var a=i.simpleTable[e]?i.simpleTable[e]:n.getStore([e]);"checkInfo"===e?n.setStore([e],a,!0):n.setStore([e],a,!1)}})),Object(l.isFunction)(r.componentInitFinished)&&r.componentInitFinished())}var c=n.setCache;Object(l.getMultiLang)({moduleId:"page_table",callback:function(t){c("langJson",t||{}),a&&a(t,n),e.forceUpdate()}}),n.setConfig(r)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.config,o=void 0===t?{}:t;e.store;var r=this.ViewModel.getData(o.dataSource);r&&r.simpleTable&&r.simpleTable.pageInfo}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.config,o=void 0===t?{}:t,r=e.store.getStore(),n=r.rows,a=r.allpks,i=r.pageInfo,c=r.checkInfo,s=r.currentInfo,u=r.alltss,f=r.props,d=r.modelDatas,g=r.sortParam;if(o.dataSource){var p=[];o.pkname&&Array.isArray(n)&&n.length&&n.forEach((function(e){e&&e.values&&e.values[o.pkname]&&(p.includes(e.values[o.pkname].value)||p.push(e.values[o.pkname].value))}));var h=p.length,v=i.pageIndex,m=i.pageSize,b=(Number(v)-1)*Number(m);a.splice.apply(a,[b,h].concat(p));var y={simpleTable:{allpks:a,currentpks:p,rows:n,pageInfo:i,checkInfo:c,currentInfo:s,alltss:u,props:f,modelDatas:d,sortParam:g,config:o}};this.ViewModel.setData(o.dataSource,y)}else a&&l.cacheTools.set("allpks",a)}},{key:"_getRowIdbyIndex",value:function(e){var t=this.props.store.getData(),o=[];return t.forEach((function(t,r){e.includes(r)&&o.push(t.rowId)})),o}},{key:"onBatchSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,o=this.props,r=o.config,n=void 0===r?{}:r,a=o.store,l=a.setSelect,i=a.setCrossPage;l(void 0,"clear",!1),e.forEach((function(e){var o=JSON.parse(JSON.stringify(e.values||e));o.rowId=o.rowId||{value:e.rowId},o.selected=o.selected||{value:e.selected};var r=[o.rowId.value],a=o.selected.value;o&&o.saga_status&&"1"===o.saga_status.value||(n.crossPageSelect&&n.pkname&&i(o,n.pkname,!a),l(r,a&&"ctrl"===t?"delete":"add",!1))})),this.forceUpdate&&this.forceUpdate(),n.onBatchSelected&&n.onBatchSelected(e)}},{key:"render",value:function(){var e=this,t=this.props,o=t.store,r=t.name,a=t.config,i=void 0===a?{}:a,c=t.onCellHyperlinkTo,s=o.getStore,u=o.setStore,f=o.getData,d=o.getFilterData,g=o.getMeta,p=o.setTableProps,h=o.getTableProps,v=o.setClickedRow,m=o.getArrayMeta,b=o.setCellProps,y=o.setCellValue,w=s(),S=w.pageInfo,C=w.checkInfo,I=i.foldCacheId,k=i.cancelCustomRightMenu,O=void 0!==k&&k,x=i.addBlankCol,P=i.extendRightMenu,j=i.showWidthAndHeightConfig,D=void 0===j||j,R=i.height,T=i.high_selectable,A=void 0===T?{}:T,_=i.hideRightMenu,F=void 0!==_&&_,B=i.high_filter,N=void 0===B?{}:B,U=K(i,["foldCacheId","cancelCustomRightMenu","addBlankCol","extendRightMenu","showWidthAndHeightConfig","height","high_selectable","hideRightMenu","high_filter"]);F&&(O=!0,A.enable=!1,D=!1);var q,z=g(r)||[],J=h("focusIndex"),L=s(["meta"]);if(L&&L[r]&&(q=L[r].pagination,!S.pageSize)){var H=ee(L,r);S.pageSize=H,u(["pageInfo"],S,!1)}var W=this.getColSettiongParam(L,r),$=Object(l.isNumber)(i.otherAreaHeight)&&!Number.isNaN(i.otherAreaHeight)?i.otherAreaHeight:0,Z=!(!Y(i.height)||!i.adaptionHeight&&!Y(i.adaptionHeight)),te={};R?(te.scroll={x:!0,y:R},te.bodyStyle={height:R}):(te.scroll={x:!0,y:300},te.bodyStyle={height:300});var oe=d(),re=oe.map((function(e){var t=e.values;return["status","rowId","selected","isOptimized","disabled"].forEach((function(o){G(e[o])||(t[o]={value:e[o]})})),delete t.values,t})),ne=m(r),ae=i.showTotal||X(z);Y(A.enable)&&(A.enable=!0);var le=!!Y(A.selectCell)||A.selectCell;return n.a.createElement(n.a.Fragment,null,z.length?n.a.createElement(ge,M({},this.props,{columns:z,data:re,className:"simpleTable",rowKey:"rowId",status:"browse",disableEditType:!0,height:30},te,{adaptionHeight:Z,cardType:"simple",otherAreaHeight:q?42+$:$,renderStatus:"browse",bodyDisplayInRow:Y(i.multipleRowCell)?this.state.isEllipsis:!i.multipleRowCell,pageInfo:S,pageInfoChange:this.pageInfoChange,isDrag:i.isDrag,lazyload:i.lazyload,langJson:o.getCache("langJson"),getCellValue:function(e){var t=e.rowKeyValue,o=e.attrcode,r=t.value,n=f();if(n.length&&Object(l.isFunction)(n.query)){var a=n.query(r).values[o];return a&&a.value&&G(a.value)?{}:a||{}}return{}},setCellValue:function(e){var t=e.rowKeyValue,o=e.attrcode,r=e.value;y({rowId:t,attrcode:o,value:void 0===r?{}:r})},onCellHyperlinkTo:function(e,t,o){c&&c(e,t,o,r)},cellClassName:function(e){var t=e.rowIndex,o=e.record,r=e.attrcode;return Object(l.isFunction)(i.setCellClass)&&i.setCellClass(t,o,r)},focusIndex:J,onRowClick:function(t,o,r){if(!(t.disabled&&!0===t.disabled.value||A&&A.enable&&(r.ctrlKey||r.shiftKey||r.metaKey))){p("currentIndex",o,!1);var n=t.values||t;n&&n.saga_status&&"1"===n.saga_status.value||(v(o),"a"===r.target.localName||"code-detail-link"===r.target.className||i.disableClickRowToSelect||e.onCheckChange(t,o,!0)),e.props.onRowClick&&Object(l.isFunction)(e.props.onRowClick)&&e.props.onRowClick(t,o,r)}},hasSelected:function(e){var t=e.rowKeyValue,o=void 0===t?{}:t;return s(["checkInfo","selectIndex"]).has(o.value)},onRowDoubleClick:function(t,o,r){var n=r.target.className,a=r.target.type;if("string"!=typeof n||-1==n.indexOf("checkbox")){if("string"==typeof n&&-1!=n.indexOf("cell-content")){var i=r.target.parentElement.parentElement.className;if("string"==typeof i&&-1!=i.indexOf("checkbox"))return}else if("checkbox"===a)return;p("currentIndex",o,!1);var c=t.values||t;c&&c.saga_status&&"1"===c.saga_status.value||v(o),e.props.onRowDoubleClick&&Object(l.isFunction)(e.props.onRowDoubleClick)&&e.props.onRowDoubleClick(t,o,r)}},name:r,store:o,onAllCheckChange:function(t){return e.onAllCheckChange(t)},onCheckChange:function(t,o){return e.onCheckChange(t,o)},checkInfo:C,backSort:i.sort,sortChange:function(t,o){return e.sortChange(t,o)},checkNum:this.checkNum,showPagination:q,checkColConfig:{showCheck:i.showCheck||!1,changeCrossSelect:this.changeCrossSelect,crossPageSelect:i.crossPageSelect,langJson:o.getCache("langJson")},indexColConfig:{showIndex:i.showIndex||!1,showCheck:i.showCheck||!1,langJson:o.getCache("langJson")},totalConfig:{showTotal:i.showTotal,noTotalRows:i.noTotalRows,noTotalCol:i.noTotalCol,allowTotalRows:i.allowTotalRows,numberPd:7},isTotal:ae,high_filter:V({alloweFilter:!0,langJson:o.getCache("langJson"),panelTitle:o.getStore(["meta",r,"name"])||"",filterData:o.getData(),customColData:o.getCache("customColData"),rowKey:"rowId",isReset:o.getStore("filterReset"),arrColumns:ne,handleFilterCallBack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filteredRow,n=e.filteredRowKeyValues,a=e.columnStatus,l=void 0===a?{}:a;o.setStore("filterReset",!1,!1),o.setColumn(r,l,!1);var c=o.getData()||[];c.forEach((function(e){n.includes(e.rowId)?e.filter=!1:e.filter=!0}));var s=o.getStore("checkInfo");t&&t.length&&(s.indeterminate=t.some((function(e){var t=e.values||e;return(!t.saga_status||"1"!==t.saga_status.value)&&e.selected})),s.checkedAll=t.every((function(e){var t=e.values||e;return!(!t.saga_status||"1"!==t.saga_status.value)||e.selected}))),o.setStore(["checkInfo"],s,!1),o.setData({data:c,shouldForceUpdate:!1}),i.handleFilterCallBack&&i.handleFilterCallBack()},handleResetCallBack:function(e){var t=e.columnStatus;o.setStore("filterReset",!1,!1);var n=o.getData()||[];n.forEach((function(e){e.filter=!1,delete e.filterIndex}));var a=o.getStore("checkInfo"),l=n;l&&l.length&&(a.indeterminate=l.some((function(e){var t=e.values||e;return(!t.saga_status||"1"!==t.saga_status.value)&&e.selected})),a.checkedAll=l.every((function(e){var t=e.values||e;return!(!t.saga_status||"1"!==t.saga_status.value)||e.selected}))),o.setStore(["checkInfo"],a,!1),o.setData({data:n,shouldForceUpdate:!1}),o.setColumn(r,t,!1),i.handleResetCallBack&&i.handleResetCallBack()},onHide:function(e){var t=e.columnStatus;o.setColumn(r,t,!0)}},N||{}),high_selectable:V(V({store:o,onSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=c.current,u=c.isBatch,d=o.getCache("activedCells")||{};for(var g in t){d[g]=d[g]||[];var p,h=E(t[g]);try{for(h.s();!(p=h.n()).done;){var v=p.value;d[g].push(v),le&&b(g,v,{actived:!0,leftLine:!1,rightLine:!1,topLine:!1,bottomLine:!1},!1)}}catch(e){h.e(e)}finally{h.f()}}if(t=d,u){var m=[];for(var y in t){var w=f();w.length&&Object(l.isFunction)(w.query)&&m.push(w.query(y))}if(i.onBatchSelected)e.onBatchSelected(m,a);else{var S=o.getStore(["checkInfo","selectIndex"]);S.clear(),m.forEach((function(e){var t=e.rowId,o=e.values||e;o&&o.saga_status&&"1"===o.saga_status.value&&e.disabled||!S.has(t)&&S.add(t)}))}}if("down"===a&&s&&s.rowKeyValue&&b(s.rowKeyValue,s.attrcode,{showDrag:!0},!1),o.setCache("activedCells",t),o.setCache("activedCell",s),le){var C=o.getCache("activeSpecialCells")||[];if((n.length>0||0===n.length&&0!==C.length)&&(o.setCache("activeSpecialCells",n),C=C.map((function(e){return e.attrcode})),n=n.map((function(e){return e.attrcode})),o.setColumn(r,C,{unitActive:!1},!1),o.setColumn(r,n,{unitActive:!0},!1)),t||n){var I=o.getArrayMeta(r,!0),k=(I.length,o.getFilterData()),O=I.reduce((function(e,t,o,r){var n=r[o+1]||{},a=r[o-1]||{};return t.visible&&(e[t.attrcode]={prev:a.attrcode,current:t.attrcode,next:n.attrcode}),e}),{});k.forEach((function(e,t){var o=e.values,r=(k[t-1]||{}).values||{},n=(k[t+1]||{}).values||{};for(var a in o){var l=o[a];if(l.actived){var i=O[a]&&O[a].prev,c=O[a]&&O[a].next;l.leftLine=!i||!o[i]||!o[i].actived,l.rightLine=!c||!o[c]||!o[c].actived,l.topLine=r&&(!r[a]||!r[a].actived),l.bottomLine=n&&(!n[a]||!n[a].actived)}}}))}e.forceUpdate()}else e.forceUpdate()},getPrevSelector:function(e){var t=o.getCache("activedCells")||{},r={},n=function(e){(t[e]||[]).forEach((function(t){r["".concat(e,"@").concat(t)]=!0}))};for(var a in t)n(a);return r},onDeSelect:function(e,t){var r=o.getCache("activedCells")||{},n={},a={};for(var l in r){n[l]={};var i,c=E(r[l]);try{for(c.s();!(i=c.n()).done;){var s=i.value;n[l][s]=!0}}catch(e){c.e(e)}finally{c.f()}}for(var u in e){var f,d=E(e[u]);try{for(d.s();!(f=d.n()).done;){var g=f.value;n[u][g]&&(delete n[u][g],b(u,g,{actived:!1,leftLine:!1,rightLine:!1,topLine:!1,bottomLine:!1},!1))}}catch(e){d.e(e)}finally{d.f()}}for(var p in n)for(var h in a[p]=[],n[p])a[p].push(h);o.setCache("activedCells",a)},onClearData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.setCache("activedCells",{}),o.setCache("activeSpecialCells",[]),le){var n=o.getData()||[];n.forEach((function(e){var t=e.values||e||{},o=e.rowId||t.rowId.value;for(var r in t)t[r]&&t[r].showDrag&&b(o,r,{showDrag:!1},!1),t[r]&&t[r].actived&&b(o,r,{actived:!1,leftLine:!1,rightLine:!1,topLine:!1,bottomLine:!1},!1)}));var a=o.getArrayMeta(r,!1)||[];a.forEach((function(e){e.unitActive&&o.setColumn(r,[e.attrcode],{unitActive:!1},!1)})),t&&e.forceUpdate()}},disabled:"drag",arrColumns:m(r,!1),data:oe,rowKey:"rowId",onBatchChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(le){e=V(V({},e),{},{rowIndex:o.getTrueRowIndex({rowKeyValue:e.rowKeyValue}),attrcode:e.attrcode,column:o.getColumn(r,e.attrcode)||{}});var n=o.getData(),a=[],c={};for(var s in n.length&&Object(l.isFunction)(n.query)&&(c=n.query(e.rowKeyValue).values[e.attrcode]||{}),t){var u=t[s][0],f="refer"===e.column.itemtype&&"refname"===e.column.fieldDisplayed||"select"===e.column.itemtype;u&&a.push(f?c.display:c.value)}console.log("onBatchChange trigger",e,t);var d={pasteContent:a,activeCell:e,langJson:o.getCache("langJson")||{},rows:n,getRowOldValue:o.getRowOldValue,name:r},g=Q(d);i.onBatchChange&&i.onBatchChange(g)}},isBatchSelect:le},A),{},{single:!1}),foldingRowChange:function(t){e.setState({isEllipsis:t})},foldCacheId:I,contextMenuConfig:{enable:A&&A.enable&&le,status:"browse",contextMenuClick:this.contextMenuClick,showBusinessBtn:!1,showPasteBtn:!1,langJson:o.getCache("langJson")||{},extendRightMenu:P},autoAffixScroll:!0,colsSettingParam:W,cancelCustomRightMenu:O,showWidthAndHeightConfig:D,updateColumnHandle:this.updateColumnAfterSetting,key:this.state.key},U,{addBlankCol:x,modalConfig:{langJson:o.getCache("langJson")}})):null,Object(l.isFunction)(i.tableCustomerArea)&&i.tableCustomerArea())}}])&&z(t.prototype,o),r&&z(t,r),c}(a.BaseComponent))||D;he.displayName="SimpleTable",he.useSimpleTable=T;t.default=he},3:function(e,t){e.exports=o},8:function(e,t){e.exports=r}})}));
//# sourceMappingURL=index.js.map